---
title: "Arbitrum Nitroのアーキテクチャ入門"
authors: [lark]
tags: [エンジニアリング, 研究]
image: https://cuckoo-network.b-cdn.net/introduction-to-arbitrum-nitro.webp
---

Arbitrum Nitroは、Offchain Labsによって開発された第二世代のレイヤー2ブロックチェーンプロトコルで、スループット、ファイナリティ、および紛争解決を改善することを目的としています。オリジナルのArbitrumプロトコルを基にして、現代のブロックチェーンのニーズに応えるための大幅な強化を提供します。

![](https://cuckoo-network.b-cdn.net/introduction-to-arbitrum-nitro.webp)

### Arbitrum Nitroの主要な特性

Arbitrum Nitroは、Ethereum上でレイヤー2ソリューションとして機能し、Ethereum Virtual Machine（EVM）コードを使用してスマートコントラクトを実行します。これにより、既存のEthereumアプリケーションやツールとの互換性が確保されます。プロトコルは、基盤となるEthereumチェーンが安全で生存している限り、安全性と進行を保証し、Nitroプロトコルの参加者のうち少なくとも1人が正直に行動することを前提としています。

### 設計アプローチ

Nitroのアーキテクチャは、次の4つの基本原則に基づいて構築されています：

- **シーケンシング後の決定論的実行:** トランザクションは最初にシーケンスされ、その後決定論的に処理されます。この2段階のアプローチにより、一貫した信頼性のある実行環境が保証されます。
- **Gethをコアに:** Nitroは、コアの実行と状態管理のためにgo-ethereum（geth）パッケージを使用しており、Ethereumとの高い互換性を確保します。
- **実行と証明の分離:** 状態遷移関数は、ネイティブ実行およびWebアセンブリ（wasm）の両方にコンパイルされ、効率的な実行と構造化された、機械に依存しない証明を可能にします。
- **インタラクティブな詐欺証明を備えたオプティミスティックロールアップ:** Arbitrumの元の設計を基に、Nitroは改良されたオプティミスティックロールアッププロトコルと高度な詐欺証明メカニズムを採用しています。

### シーケンシングと実行

Nitroでのトランザクション処理には、SequencerとState Transition Function（STF）の2つの主要なコンポーネントが関与します。

![Arbitrum Nitroアーキテクチャ](https://tp-misc.b-cdn.net/blockeden/arbitrum-nitro.webp "Arbitrum Nitroアーキテクチャ")

- **Sequencer**: 入ってくるトランザクションを順序付け、この順序を確定します。それにより、トランザクションシーケンスが確実に知られていることを保証し、リアルタイムフィードとEthereumレイヤー1チェーン上の圧縮データバッチの両方として投稿されます。このデュアルアプローチにより、信頼性が高まり、検閲が防止されます。
- **決定論的実行**: STFは、シーケンスされたトランザクションを処理し、チェーンの状態を更新し、新しいブロックを生成します。このプロセスは決定論的であり、結果はトランザクションデータと以前の状態のみに依存するため、ネットワーク全体で一貫性が保証されます。

### ソフトウェアアーキテクチャ: Gethをコアに

![Arbitrum Nitroアーキテクチャ、層状](https://tp-misc.b-cdn.net/blockeden/arbitrum-nitro-architecture-layered.webp "Arbitrum Nitroアーキテクチャ、層状")

Nitroのソフトウェアアーキテクチャは、次の3つの層で構成されています：

- **ベースレイヤー（Gethコア）**: このレイヤーは、EVMコントラクトの実行を処理し、Ethereumの状態データ構造を管理します。
- **ミドルレイヤー（ArbOS）**: カスタムソフトウェアであり、シーケンサーバッチの解凍、ガスコストの管理、クロスチェーン機能のサポートなど、レイヤー2の機能を提供します。
- **トップレイヤー**: Gethから引き出され、このレイヤーは接続、着信RPCリクエスト、およびその他のトップレベルのノード機能を処理します。

### クロスチェーンインタラクション

Arbitrum Nitroは、Outbox、Inbox、およびRetryable Ticketsのようなメカニズムを通じて、安全なクロスチェーンインタラクションをサポートします。

- **Outbox**: レイヤー2からレイヤー1へのコントラクト呼び出しを可能にし、メッセージが安全に転送され、Ethereum上で実行されることを保証します。
- **Inbox**: EthereumからNitroに送信されたトランザクションを管理し、正しい順序で含まれることを保証します。
- **Retryable Tickets**: 失敗したトランザクションの再送信を可能にし、信頼性を高め、トランザクションが失われるリスクを軽減します。

### ガスと手数料

Nitroは、トランザクションコストを管理するために高度なガスメータリングと価格設定メカニズムを採用しています：

- **L2ガスメータリングと価格設定**: ガス使用量を追跡し、基本料金をアルゴリズムで調整して需要と容量のバランスを取ります。
- **L1データのメータリングと価格設定**: レイヤー1のインタラクションに関連するコストをカバーし、これらのコストをトランザクション間で正確に配分するための適応型価格設定アルゴリズムを使用します。

### 結論

Cuckoo Networkは、Arbitrumの開発に投資することに自信を持っています。Arbitrum Nitroの高度なレイヤー2ソリューションは、無類のスケーラビリティ、より速いファイナリティ、および効率的な紛争解決を提供します。そのEthereumとの互換性により、当社の分散型アプリケーションのための安全で効率的な環境が確保され、イノベーションとパフォーマンスへのコミットメントに合致しています。

- ソース: https://cuckoo.network/blog/2024/06/06/introduction-to-arbitrum-nitro
- テレグラム: https://cuckoo.network/tg
- ディスコード: https://cuckoo.network/dc
