---
title: "Введение в архитектуру Arbitrum Nitro"
authors: [lark]
tags: [engineering, research]
image: https://cuckoo-network.b-cdn.net/introduction-to-arbitrum-nitro.webp
---

Arbitrum Nitro, разработанный Offchain Labs, является протоколом второго поколения Layer 2, предназначенным для улучшения пропускной способности, финальности и разрешения споров. Он основан на оригинальном протоколе Arbitrum, предлагая значительные улучшения, соответствующие современным потребностям блокчейна.

![](https://cuckoo-network.b-cdn.net/introduction-to-arbitrum-nitro.webp)

### Ключевые свойства Arbitrum Nitro

Arbitrum Nitro функционирует как решение Layer 2 поверх Ethereum, поддерживая выполнение смарт-контрактов с использованием кода Ethereum Virtual Machine (EVM). Это обеспечивает совместимость с существующими приложениями и инструментами Ethereum. Протокол гарантирует как безопасность, так и прогресс, при условии, что основная цепочка Ethereum остается безопасной и активной, и по крайней мере один участник протокола Nitro действует честно.

### Подход к проектированию

Архитектура Nitro основана на четырех основных принципах:

- **Последовательность, за которой следует детерминированное выполнение:** Транзакции сначала упорядочиваются, затем обрабатываются детерминированно. Этот двухфазный подход обеспечивает консистентную и надежную среду выполнения.
- **Geth в основе:** Nitro использует пакет go-ethereum (geth) для основной обработки и поддержания состояния, обеспечивая высокую совместимость с Ethereum.
- **Разделение выполнения и доказательства:** Функция перехода состояния компилируется как для нативного выполнения, так и для Web Assembly (wasm), чтобы обеспечить эффективное выполнение и структурированное, независимое от машины доказательство.
- **Оптимистичный Rollup с интерактивными доказательствами мошенничества:** Строится на оригинальном дизайне Arbitrum, Nitro использует улучшенный протокол оптимистичного Rollup с усовершенствованным механизмом доказательства мошенничества.

### Последовательность и выполнение

Обработка транзакций в Nitro включает два ключевых компонента: Sequencer и функцию перехода состояния (STF).

![Архитектура Arbitrum Nitro](https://tp-misc.b-cdn.net/blockeden/arbitrum-nitro.webp "Архитектура Arbitrum Nitro")

- **Sequencer**: Упорядочивает входящие транзакции и фиксирует этот порядок. Он обеспечивает, чтобы последовательность транзакций была известна и надежна, публикуя ее как в режиме реального времени, так и в виде сжатых данных на цепочке Ethereum Layer 1. Этот двойной подход улучшает надежность и предотвращает цензуру.
- **Детерминированное выполнение:** STF обрабатывает упорядоченные транзакции, обновляя состояние цепочки и создавая новые блоки. Этот процесс детерминирован, что означает, что результат зависит только от данных транзакций и предыдущего состояния, обеспечивая консистентность по сети.

### Программная архитектура: Geth в основе

![Архитектура Arbitrum Nitro, слоистая](https://tp-misc.b-cdn.net/blockeden/arbitrum-nitro-architecture-layered.webp "Архитектура Arbitrum Nitro, слоистая")

Программная архитектура Nitro структурирована на три слоя:

- **Базовый слой (Geth Core):** Этот слой обрабатывает выполнение контрактов EVM и поддерживает структуры данных состояния Ethereum.
- **Средний слой (ArbOS):** Специальное программное обеспечение, предоставляющее функциональность Layer 2, включая декомпрессию пакетов sequencer, управление затратами на газ и поддержку функций кросс-цепочки.
- **Верхний слой:** Основан на geth, этот слой обрабатывает соединения, входящие RPC-запросы и другие функции верхнего уровня узлов.

### Кросс-цепное взаимодействие

Arbitrum Nitro поддерживает безопасные кросс-цепные взаимодействия через механизмы, такие как Outbox, Inbox и Retryable Tickets.

- **Outbox:** Позволяет вызывать контракты из Layer 2 в Layer 1, обеспечивая, чтобы сообщения безопасно передавались и выполнялись на Ethereum.
- **Inbox:** Управляет транзакциями, отправленными в Nitro из Ethereum, обеспечивая их включение в правильном порядке.
- **Retryable Tickets:** Позволяет повторно отправлять неудачные транзакции, обеспечивая надежность и снижая риск утери транзакций.

### Газ и сборы

Nitro использует сложный механизм измерения и ценообразования газа для управления затратами на транзакции:

- **Измерение и ценообразование газа L2:** Отслеживает использование газа и корректирует базовый сбор алгоритмически, чтобы сбалансировать спрос и мощность.
- **Измерение и ценообразование данных L1:** Обеспечивает покрытие затрат, связанных с взаимодействием Layer 1, используя адаптивный алгоритм ценообразования для точного распределения этих затрат среди транзакций.

### Заключение

Cuckoo Network уверена в инвестициях в развитие Arbitrum. Продвинутые решения Layer 2 Arbitrum Nitro предлагают непревзойденную масштабируемость, более быструю финальность и эффективное разрешение споров. Его совместимость с Ethereum обеспечивает безопасную и эффективную среду для наших децентрализованных приложений, соответствуя нашему стремлению к инновациям и производительности.

- источник: https://cuckoo.network/blog/2024/06/06/introduction-to-arbitrum-nitro
- telegram: https://cuckoo.network/tg
- discord: https://cuckoo.network/dc
